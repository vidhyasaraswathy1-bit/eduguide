<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vidyantrix - Premium Online Learning</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Plyr.js CSS -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    <!-- Load Google Font: Plus Jakarta Sans (Premium feeling font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Load Scripts -->
    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }

        /* Premium Gradient Text */
        .text-gradient {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Abstract Background Shapes */
        .blob {
            position: absolute;
            filter: blur(50px);
            z-index: 0;
            opacity: 0.4;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* --- PLAYER SECURITY BARRIER --- */
        /* This ensures users cannot click the YouTube iframe directly */
        .plyr__video-embed iframe {
            pointer-events: none;
        }

        /* Rating Star Animation */
        .star-btn:hover svg,
        .star-btn.active svg {
            fill: #f59e0b; /* Amber-500 */
            stroke: #f59e0b;
            transform: scale(1.2);
        }
        .star-btn svg {
            transition: all 0.2s ease;
        }
    </style>
    <script>
        // Custom Tailwind Config with Premium Colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6', // Primary Blue
                            600: '#2563eb',
                            700: '#1d4ed8', // Deep Royal
                            800: '#1e40af',
                            900: '#1e3a8a',
                            950: '#172554',
                        },
                        accent: {
                            500: '#f59e0b', // Gold/Amber for highlighting
                        }
                    },
                    boxShadow: {
                        'glow': '0 0 20px rgba(59, 130, 246, 0.5)',
                        'card': '0 10px 30px -10px rgba(0, 0, 0, 0.1)',
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-slate-50 text-slate-800 antialiased selection:bg-brand-200 selection:text-brand-900">

    <!-- Global Container -->
    <div id="app-container" class="relative overflow-hidden">

        <!-- Background Decor for Premium Feel -->
        <div class="blob bg-brand-300 w-96 h-96 rounded-full top-0 left-0 -translate-x-1/2 -translate-y-1/2 mix-blend-multiply"></div>
        <div class="blob bg-purple-300 w-96 h-96 rounded-full bottom-0 right-0 translate-x-1/3 translate-y-1/3 mix-blend-multiply"></div>

        <!-- Announcement Banner -->
        <div id="announcement-bar" class="relative z-[60] bg-brand-900">
            <a href="#courses" class="block w-full">
                <img src="https://placehold.co/1920x80/1e3a8a/ffffff?text=BIG+SALE:+Get+50%25+OFF+on+Grade+10+Courses!+Click+Here+to+Buy+Now" 
                     alt="Announcement Banner" 
                     class="hidden md:block w-full h-auto object-cover max-h-24" />
                <img src="https://placehold.co/800x100/1e3a8a/ffffff?text=50%25+OFF+Sale+-+Click+Here" 
                     alt="Announcement Banner Mobile" 
                     class="md:hidden w-full h-auto object-cover max-h-16" />
            </a>
        </div>

        <!-- Landing Page Section -->
        <div id="landing-page" class="relative z-10">
            
            <!-- Sticky Glassmorphism Navbar -->
            <header class="sticky top-0 z-50 backdrop-blur-md bg-white/80 border-b border-slate-200/60 shadow-sm transition-all duration-300" id="navbar">
                <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
                    <a href="#" class="flex items-center gap-2 group">
                        <div class="w-8 h-8 bg-gradient-to-br from-brand-600 to-brand-800 rounded-lg flex items-center justify-center text-white shadow-lg group-hover:shadow-brand-500/50 transition-all">
                            <span class="font-bold text-lg">V</span>
                        </div>
                        <span class="text-2xl font-extrabold tracking-tight text-slate-900">Vidyantrix</span>
                    </a>

                    <div class="hidden md:flex items-center space-x-8">
                        <a href="#hero" class="text-sm font-medium text-slate-600 hover:text-brand-600 transition-colors">Home</a>
                        <a href="#courses" class="text-sm font-medium text-slate-600 hover:text-brand-600 transition-colors">Courses</a>
                        <a href="#features" class="text-sm font-medium text-slate-600 hover:text-brand-600 transition-colors">Features</a>
                        <div class="h-4 w-px bg-slate-300"></div>
                        <a href="#" class="text-sm font-medium text-slate-600 hover:text-brand-600 transition-colors">Sign In</a>
                        <a href="#" class="px-5 py-2.5 bg-gradient-to-r from-brand-600 to-brand-700 text-white rounded-full text-sm font-semibold hover:shadow-lg hover:shadow-brand-500/30 hover:-translate-y-0.5 transition-all duration-300">
                            Get Started
                        </a>
                    </div>

                    <button id="mobile-menu-btn" class="md:hidden text-slate-700 hover:text-brand-600 transition-colors" aria-label="Open menu">
                        <i data-lucide="menu" class="w-6 h-6"></i>
                    </button>
                </nav>

                <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-slate-100 absolute w-full shadow-xl">
                    <div class="px-6 py-4 space-y-3">
                        <a href="#hero" class="block text-slate-600 hover:text-brand-600 font-medium">Home</a>
                        <a href="#courses" class="block text-slate-600 hover:text-brand-600 font-medium">Courses</a>
                        <a href="#features" class="block text-slate-600 hover:text-brand-600 font-medium">Features</a>
                        <hr class="border-slate-100">
                        <a href="#" class="block text-slate-600 hover:text-brand-600 font-medium">Sign In</a>
                        <a href="#" class="block w-full text-center px-5 py-3 bg-brand-600 text-white rounded-lg font-semibold">Get Started</a>
                    </div>
                </div>
            </header>

            <!-- Hero Section -->
            <section id="hero" class="relative pt-16 pb-24 lg:pt-24 lg:pb-32 overflow-hidden">
                <div class="container mx-auto px-6">
                    <div class="flex flex-col lg:flex-row items-center gap-12">
                        <!-- Text Content -->
                        <div class="lg:w-1/2 text-center lg:text-left z-10">
                            <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-brand-50 border border-brand-100 text-brand-700 text-xs font-bold uppercase tracking-wide mb-6">
                                <span class="w-2 h-2 rounded-full bg-brand-500 animate-pulse"></span>
                                New Batches Starting Soon
                            </div>
                            <h1 class="text-4xl lg:text-6xl font-extrabold text-slate-900 leading-[1.15] tracking-tight mb-6">
                                Master Your Grades with <span class="text-gradient">Vidyantrix</span>
                            </h1>
                            <p class="text-lg text-slate-600 mb-8 leading-relaxed max-w-xl mx-auto lg:mx-0">
                                Experience a world-class learning platform for Grades 5-10. Interactive video lessons, real-time progress tracking, and expert guidance designed to help you excel.
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                                <a href="#courses" class="px-8 py-4 bg-brand-600 text-white rounded-xl font-semibold hover:bg-brand-700 transition-all hover:shadow-xl hover:shadow-brand-500/20 flex items-center justify-center gap-2">
                                    Explore Courses <i data-lucide="arrow-right" class="w-4 h-4"></i>
                                </a>
                                <a href="#features" class="px-8 py-4 bg-white text-slate-700 border border-slate-200 rounded-xl font-semibold hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-2">
                                    <i data-lucide="play-circle" class="w-4 h-4 text-brand-600"></i> Watch Demo
                                </a>
                            </div>
                            
                            <div class="mt-10 flex items-center justify-center lg:justify-start gap-6 text-sm font-medium text-slate-500">
                                <div class="flex items-center gap-2">
                                    <div class="flex -space-x-2">
                                        <div class="w-8 h-8 rounded-full bg-slate-200 border-2 border-white"></div>
                                        <div class="w-8 h-8 rounded-full bg-slate-300 border-2 border-white"></div>
                                        <div class="w-8 h-8 rounded-full bg-slate-400 border-2 border-white"></div>
                                    </div>
                                    <span>10k+ Students</span>
                                </div>
                                <div class="w-1 h-1 bg-slate-300 rounded-full"></div>
                                <div class="flex items-center gap-1">
                                    <i data-lucide="star" class="w-4 h-4 text-accent-500 fill-current"></i>
                                    <span>4.9/5 Rating</span>
                                </div>
                            </div>
                        </div>

                        <!-- Visual Content -->
                        <div class="lg:w-1/2 relative z-10">
                            <div class="relative w-full max-w-lg mx-auto aspect-square">
                                <div class="absolute inset-0 bg-gradient-to-tr from-brand-100 to-white rounded-full opacity-50 blur-3xl"></div>
                                
                                <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-3/4 h-3/4 bg-white rounded-3xl shadow-2xl border border-slate-100 flex flex-col overflow-hidden transform rotate-3 hover:rotate-0 transition-transform duration-500">
                                    <div class="bg-slate-100 h-32 w-full flex items-center justify-center">
                                        <i data-lucide="graduation-cap" class="w-16 h-16 text-brand-200"></i>
                                    </div>
                                    <div class="p-6 space-y-3">
                                        <div class="h-4 bg-slate-100 rounded w-3/4"></div>
                                        <div class="h-4 bg-slate-100 rounded w-1/2"></div>
                                        <div class="h-12 mt-4 bg-brand-50 rounded-lg border border-brand-100 flex items-center px-4 gap-3">
                                            <div class="w-8 h-8 rounded-full bg-brand-200 flex items-center justify-center text-brand-600">
                                                <i data-lucide="play" class="w-4 h-4 fill-current"></i>
                                            </div>
                                            <div class="text-xs font-semibold text-brand-800">Now Playing: Algebra Basics</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="absolute top-10 right-0 bg-white p-4 rounded-2xl shadow-lg border border-slate-100 animate-[bounce_3s_infinite]">
                                    <div class="flex items-center gap-3">
                                        <div class="bg-green-100 p-2 rounded-full text-green-600">
                                            <i data-lucide="check-circle-2" class="w-6 h-6"></i>
                                        </div>
                                        <div>
                                            <div class="text-xs text-slate-500">Daily Goals</div>
                                            <div class="font-bold text-slate-800">Completed</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="absolute bottom-10 left-0 bg-white p-4 rounded-2xl shadow-lg border border-slate-100 animate-[pulse_4s_infinite]">
                                    <div class="flex items-center gap-3">
                                        <div class="bg-brand-100 p-2 rounded-full text-brand-600">
                                            <i data-lucide="video" class="w-6 h-6"></i>
                                        </div>
                                        <div>
                                            <div class="text-xs text-slate-500">Live Class</div>
                                            <div class="font-bold text-slate-800">In 5 Mins</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Course Marketplace Section -->
            <section id="courses" class="py-24 relative">
                <div class="container mx-auto px-6">
                    <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-4">
                        <div>
                            <h2 class="text-3xl md:text-4xl font-bold text-slate-900">Featured Courses</h2>
                            <p class="mt-2 text-lg text-slate-500">Handpicked curriculum for academic excellence.</p>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-brand-600 text-white shadow-lg shadow-brand-500/30" data-grade="all">All</button>
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-white text-slate-600 hover:bg-slate-100 border border-slate-200" data-grade="10">Grade 10</button>
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-white text-slate-600 hover:bg-slate-100 border border-slate-200" data-grade="9">Grade 9</button>
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-white text-slate-600 hover:bg-slate-100 border border-slate-200" data-grade="8">Grade 8</button>
                        </div>
                    </div>

                    <div id="course-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Course Card Logic Here (Same as before) -->
                        <div class="course-card group bg-white rounded-2xl shadow-card hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 border border-slate-100 overflow-hidden flex flex-col"
                             data-grade="10" data-title="Grade 10 - Mathematics Mastery" data-description="Full syllabus for Grade 10 Math, covering Algebra, Geometry, Trigonometry, and Statistics with real-world examples." data-price="4999" data-subjects="Mathematics" data-videos="60">
                            <div class="relative h-48 overflow-hidden">
                                <img src="https://placehold.co/600x400/1e40af/white?text=Grade+10+Math" alt="Course" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500">
                                <div class="absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-md text-xs font-bold text-brand-700 shadow-sm">Best Seller</div>
                            </div>
                            <div class="p-6 flex flex-col flex-grow">
                                <h3 class="text-xl font-bold text-slate-900 mb-2 group-hover:text-brand-600 transition-colors">Mathematics Mastery</h3>
                                <p class="text-slate-500 text-sm mb-4 line-clamp-2">Comprehensive coverage of Algebra, Geometry, and Trigonometry.</p>
                                <div class="mt-auto pt-4 border-t border-slate-100 flex justify-between items-center">
                                    <div><span class="text-2xl font-bold text-slate-900">₹4,999</span></div>
                                    <button class="buy-now-btn w-10 h-10 rounded-full bg-brand-50 text-brand-600 flex items-center justify-center hover:bg-brand-600 hover:text-white transition-all"><i data-lucide="arrow-right" class="w-5 h-5"></i></button>
                                </div>
                            </div>
                        </div>
                        <!-- More cards would go here -->
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <footer class="bg-brand-950 text-slate-400 py-16 border-t border-brand-900">
                <div class="container mx-auto px-6 text-center">
                    <p>&copy; 2024 Vidyantrix. All rights reserved.</p>
                </div>
            </footer>
        </div>


        <!-- Course Preview Modal -->
        <div id="course-preview-modal" class="hidden fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 opacity-0 transition-opacity duration-300">
            <div class="relative bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl scale-95 transition-transform duration-300 transform" id="modal-panel">
                <div class="flex justify-between items-start p-6 border-b border-slate-100">
                    <h3 id="modal-title" class="text-2xl font-bold text-slate-900 pr-4">Course Title</h3>
                    <button id="modal-close-btn" class="text-slate-400 hover:bg-slate-100 hover:text-slate-900 rounded-full p-2 transition-colors"><i data-lucide="x" class="w-5 h-5"></i></button>
                </div>
                <div class="p-6 space-y-6">
                    <img id="modal-image" src="" alt="Course Image" class="w-full h-64 object-cover rounded-xl shadow-md">
                    <p id="modal-description" class="text-slate-600 leading-relaxed">Description</p>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-slate-50 p-4 rounded-xl"><div class="font-semibold text-slate-900" id="modal-subjects">Subject</div></div>
                        <div class="bg-slate-50 p-4 rounded-xl"><div class="font-semibold text-slate-900" id="modal-videos">0 Videos</div></div>
                    </div>
                </div>
                <div class="flex items-center justify-between p-6 border-t border-slate-100 bg-slate-50 rounded-b-2xl">
                    <span id="modal-price" class="text-3xl font-bold text-slate-900">₹0</span>
                    <button id="start-course-btn" class="px-8 py-3 bg-brand-600 text-white rounded-xl font-semibold hover:bg-brand-700 transition-all shadow-lg hover:shadow-brand-500/30 transform hover:-translate-y-0.5">Start Learning Now</button>
                </div>
            </div>
        </div>


        <!-- Course Player Section -->
        <div id="course-player-page" class="hidden min-h-screen bg-slate-100">
            <!-- FIXED: Sticky header remains, but we will add padding to the container below to clear it -->
            <header class="bg-white shadow-sm z-20 sticky top-0 border-b border-slate-200 h-16 flex items-center">
                <div class="container mx-auto px-6 flex justify-between items-center w-full">
                    <a href="#" class="text-xl font-extrabold text-slate-900 flex items-center gap-2">
                        <div class="w-6 h-6 bg-brand-600 rounded flex items-center justify-center text-white text-xs">V</div>
                        Vidyantrix
                    </a>
                    <h2 id="player-course-title" class="text-sm font-semibold text-slate-600 hidden md:block border-l border-slate-200 pl-4 ml-4"></h2>
                    <a href="#" id="exit-player-btn" class="text-xs font-bold uppercase tracking-wide text-slate-500 hover:text-brand-600 flex items-center border border-slate-200 px-3 py-1.5 rounded-md hover:bg-slate-50 transition-colors">
                        <i data-lucide="log-out" class="w-3 h-3 mr-2"></i> Exit
                    </a>
                </div>
            </header>

            <!-- FIXED: Added 'pt-8' explicitly and ensure margin top to clear fixed elements if any issues arise -->
            <div class="container mx-auto p-4 lg:p-8 lg:pt-12">
                <h2 id="mobile-player-course-title" class="text-xl font-bold text-slate-900 mb-4 md:hidden"></h2>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Main Video Player -->
                    <div class="lg:col-span-2">
                        <div class="relative">
                            <div id="video-wrapper" class="bg-black rounded-xl shadow-2xl overflow-hidden border border-slate-800 aspect-video relative z-10">
                                <div id="video-player" class="plyr__video-embed">
                                    <iframe src="" allowfullscreen allowtransparency allow="autoplay"></iframe>
                                </div>
                            </div>
                            
                            <!-- Rating Overlay (Hidden by default) -->
                            <div id="rating-overlay" class="hidden absolute inset-0 z-20 bg-slate-900/95 rounded-xl flex flex-col items-center justify-center text-center p-6 backdrop-blur-sm transition-all duration-500 opacity-0">
                                <div class="w-16 h-16 bg-brand-900/50 rounded-full flex items-center justify-center mb-4 border border-brand-500/30">
                                    <i data-lucide="star" class="w-8 h-8 text-brand-400"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-white mb-2">Rate this Class</h3>
                                <p class="text-slate-400 text-sm mb-6 max-w-xs">How helpful was this video lesson? Your feedback helps us improve.</p>
                                
                                <div class="flex gap-2 mb-8" id="star-container">
                                    <button class="star-btn p-1" data-value="1"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                    <button class="star-btn p-1" data-value="2"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                    <button class="star-btn p-1" data-value="3"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                    <button class="star-btn p-1" data-value="4"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                    <button class="star-btn p-1" data-value="5"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                </div>
                                
                                <button id="submit-rating-btn" class="px-8 py-2.5 bg-brand-600 hover:bg-brand-500 text-white rounded-full font-semibold transition-all shadow-lg shadow-brand-500/20 disabled:opacity-50 disabled:cursor-not-allowed">
                                    Submit Feedback
                                </button>
                                <button id="skip-rating-btn" class="mt-4 text-xs text-slate-500 hover:text-slate-300 underline">Skip</button>
                            </div>
                        </div>

                        <div class="mt-4 bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                            <h1 class="text-xl font-bold text-slate-900 mb-2" id="current-video-title">1.1.1 Welcome to the Course</h1>
                            <p class="text-slate-500 text-sm">Watch this video to understand the course structure and learning outcomes.</p>
                        </div>
                    </div>

                    <!-- Syllabus -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden flex flex-col h-[80vh] lg:h-auto sticky top-24">
                            <div class="p-4 border-b border-slate-100 bg-slate-50">
                                <h3 class="font-bold text-slate-900">Course Content</h3>
                                <div class="w-full bg-slate-200 rounded-full h-1.5 mt-2">
                                    <div class="bg-brand-500 h-1.5 rounded-full" style="width: 0%"></div>
                                </div>
                                <p class="text-xs text-slate-500 mt-1">0% Completed</p>
                            </div>
                            
                            <div id="syllabus-container" class="overflow-y-auto flex-1 p-2 space-y-2">
                                <!-- Module 1 -->
                                <div class="border border-slate-200 rounded-lg overflow-hidden">
                                    <button class="module-toggle-btn w-full p-3 flex justify-between items-center text-left bg-slate-50 hover:bg-slate-100 transition-colors">
                                        <span class="font-semibold text-sm text-slate-800">Module 1: Introduction</span>
                                        <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400"></i>
                                    </button>
                                    <div class="chapter-list hidden bg-white">
                                        <!-- Chapter 1.1 -->
                                        <div class="border-t border-slate-100">
                                            <button class="chapter-toggle-btn w-full p-2 pl-4 text-sm font-medium text-slate-600 hover:text-brand-600 hover:bg-slate-50 flex justify-between items-center">
                                                <span>Chapter 1.1: Welcome</span>
                                                <i data-lucide="chevron-down" class="w-3 h-3 text-slate-300"></i>
                                            </button>
                                            <div class="video-list hidden pl-6 pr-2 pb-2 space-y-1">
                                                <a href="#" class="video-link block p-2 rounded-md bg-brand-50 text-brand-700 text-xs font-medium flex items-center gap-2" data-title="1.1.1 Welcome" data-video-id="bTqVqk7FSmY">
                                                    <i data-lucide="play-circle" class="w-3 h-3"></i> 1.1.1 Welcome
                                                </a>
                                                <a href="#" class="video-link block p-2 rounded-md hover:bg-slate-50 text-slate-600 text-xs font-medium flex items-center gap-2" data-title="1.1.2 Platform Tour" data-video-id="YE7VzlLtp-4">
                                                    <i data-lucide="play-circle" class="w-3 h-3"></i> 1.1.2 Platform Tour
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Logic -->
    <script>
        window.addEventListener('load', () => {
            try {
                if (typeof lucide !== 'undefined') lucide.createIcons();

                // Sticky Navbar
                const navbar = document.getElementById('navbar');
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 50) {
                        navbar.classList.add('shadow-md', 'bg-white/95');
                        navbar.classList.remove('bg-white/80');
                    } else {
                        navbar.classList.remove('shadow-md', 'bg-white/95');
                        navbar.classList.add('bg-white/80');
                    }
                });

                // General UI (Mobile Menu, Modals)
                const mobileMenuBtn = document.getElementById('mobile-menu-btn');
                const mobileMenu = document.getElementById('mobile-menu');
                const buyNowBtns = document.querySelectorAll('.buy-now-btn');
                const modal = document.getElementById('course-preview-modal');
                const modalPanel = document.getElementById('modal-panel');
                const modalCloseBtn = document.getElementById('modal-close-btn');
                const startCourseBtn = document.getElementById('start-course-btn');
                const gradeFilterBtns = document.querySelectorAll('.grade-filter-btn');
                const courseCards = document.querySelectorAll('.course-card');
                const landingPage = document.getElementById('landing-page');
                const coursePlayerPage = document.getElementById('course-player-page');
                const exitPlayerBtn = document.getElementById('exit-player-btn');
                const currentVideoTitleEl = document.getElementById('current-video-title');
                
                // Rating UI Elements
                const ratingOverlay = document.getElementById('rating-overlay');
                const starBtns = document.querySelectorAll('.star-btn');
                const submitRatingBtn = document.getElementById('submit-rating-btn');
                const skipRatingBtn = document.getElementById('skip-rating-btn');
                
                let player;
                let currentRating = 0;

                if (mobileMenuBtn) {
                    mobileMenuBtn.addEventListener('click', () => {
                        mobileMenu.classList.toggle('hidden');
                        if(typeof lucide !== 'undefined') lucide.createIcons();
                    });
                }

                // Modal Open/Close
                const openModal = (card) => {
                    const title = card.getAttribute('data-title');
                    const description = card.getAttribute('data-description');
                    const price = card.getAttribute('data-price');
                    const subjects = card.getAttribute('data-subjects');
                    const videos = card.getAttribute('data-videos');
                    const image = card.querySelector('img') ? card.querySelector('img').src : "";

                    document.getElementById('modal-title').textContent = title;
                    document.getElementById('modal-description').textContent = description;
                    document.getElementById('modal-price').textContent = `₹${price}`;
                    document.getElementById('modal-subjects').textContent = subjects;
                    document.getElementById('modal-videos').textContent = `${videos} Videos`;
                    document.getElementById('modal-image').src = image;
                    document.getElementById('player-course-title').textContent = title;

                    modal.classList.remove('hidden');
                    setTimeout(() => {
                        modal.classList.remove('opacity-0');
                        modalPanel.classList.remove('scale-95');
                        modalPanel.classList.add('scale-100');
                    }, 10);
                    document.body.style.overflow = 'hidden';
                };

                const closeModal = () => {
                    modal.classList.add('opacity-0');
                    modalPanel.classList.remove('scale-100');
                    modalPanel.classList.add('scale-95');
                    setTimeout(() => {
                        modal.classList.add('hidden');
                        document.body.style.overflow = 'auto';
                    }, 300);
                };

                buyNowBtns.forEach(btn => btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    openModal(e.target.closest('.course-card'));
                }));
                
                courseCards.forEach(card => {
                    const img = card.querySelector('.relative');
                    if(img) {
                        img.style.cursor = 'pointer';
                        img.addEventListener('click', () => openModal(card));
                    }
                });

                if (modalCloseBtn) modalCloseBtn.addEventListener('click', closeModal);

                // --- Rating System Logic ---
                const showRatingOverlay = () => {
                    ratingOverlay.classList.remove('hidden');
                    // Trigger reflow
                    void ratingOverlay.offsetWidth;
                    ratingOverlay.classList.remove('opacity-0');
                };

                const hideRatingOverlay = () => {
                    ratingOverlay.classList.add('opacity-0');
                    setTimeout(() => {
                        ratingOverlay.classList.add('hidden');
                        // Reset stars
                        currentRating = 0;
                        starBtns.forEach(btn => btn.classList.remove('active'));
                    }, 500);
                };

                const markVideoComplete = () => {
                    const activeLink = document.querySelector('.video-link.bg-brand-50');
                    if (activeLink) {
                        const iconContainer = activeLink.querySelector('svg') || activeLink.querySelector('i');
                        if (iconContainer) {
                            const greenCheck = document.createElement('i');
                            greenCheck.setAttribute('data-lucide', 'check-circle-2');
                            greenCheck.className = "w-3 h-3 text-green-600";
                            iconContainer.replaceWith(greenCheck);
                            lucide.createIcons();
                        }
                    }
                };

                starBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const val = parseInt(btn.getAttribute('data-value'));
                        currentRating = val;
                        starBtns.forEach(b => {
                            const bVal = parseInt(b.getAttribute('data-value'));
                            if (bVal <= val) b.classList.add('active');
                            else b.classList.remove('active');
                        });
                    });
                });

                submitRatingBtn.addEventListener('click', () => {
                    if (currentRating > 0) {
                        // Here you would send 'currentRating' to backend
                        hideRatingOverlay();
                        markVideoComplete();
                    }
                });

                skipRatingBtn.addEventListener('click', () => {
                    hideRatingOverlay();
                    markVideoComplete();
                });


                // --- Player Initialization ---
                const initPlayer = () => {
                    try {
                        if (player) player.destroy();
                        
                        const videoWrapper = document.getElementById('video-wrapper');
                        videoWrapper.innerHTML = `
                            <div id="video-player" class="plyr__video-embed">
                                <iframe
                                    src="https://www.youtube.com/embed/bTqVqk7FSmY?origin=https://plyr.io&amp;iv_load_policy=3&amp;modestbranding=1&amp;playsinline=1&amp;showinfo=0&amp;rel=0&amp;enablejsapi=1"
                                    allowfullscreen
                                    allowtransparency
                                    allow="autoplay"
                                ></iframe>
                            </div>
                        `;
                        
                        player = new Plyr('#video-player', {
                            controls: ['play', 'progress', 'current-time', 'mute', 'volume', 'settings', 'fullscreen']
                        });

                        player.on('ended', () => {
                            player.stop(); 
                            showRatingOverlay(); // Trigger rating instead of just marking complete
                        });

                    } catch(e) { console.error("Player init failed", e); }
                };

                startCourseBtn.addEventListener('click', () => {
                    closeModal();
                    landingPage.classList.add('hidden');
                    coursePlayerPage.classList.remove('hidden');
                    window.scrollTo(0,0);
                    setTimeout(initPlayer, 100);
                });

                exitPlayerBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    coursePlayerPage.classList.add('hidden');
                    landingPage.classList.remove('hidden');
                    if(player) player.stop();
                });

                // Toggles for Sidebar
                document.querySelectorAll('.module-toggle-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const list = btn.nextElementSibling;
                        const icon = btn.querySelector('.lucide-chevron-down');
                        list.classList.toggle('hidden');
                        icon.style.transform = list.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
                    });
                });
                
                document.querySelectorAll('.chapter-toggle-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const list = btn.nextElementSibling;
                        const icon = btn.querySelector('.lucide-chevron-down');
                        list.classList.toggle('hidden');
                        icon.style.transform = list.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
                    });
                });

                document.querySelectorAll('.video-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const vidId = link.getAttribute('data-video-id');
                        const vidTitle = link.getAttribute('data-title');
                        
                        document.querySelectorAll('.video-link').forEach(l => {
                           l.classList.remove('bg-brand-50', 'text-brand-700'); 
                           l.classList.add('text-slate-600');
                           const icon = l.querySelector('svg');
                           if(icon && !icon.classList.contains('text-green-600')) {
                               icon.classList.remove('fill-current');
                           }
                        });
                        link.classList.add('bg-brand-50', 'text-brand-700');
                        link.classList.remove('text-slate-600');
                        
                        const currentIcon = link.querySelector('svg');
                        if(currentIcon && !currentIcon.classList.contains('text-green-600')){
                            currentIcon.classList.add('fill-current');
                        }

                        // Reset overlay if switching videos manually
                        ratingOverlay.classList.add('hidden');
                        ratingOverlay.classList.add('opacity-0');

                        if(player && vidId) {
                            player.source = {
                                type: 'video',
                                sources: [{ src: vidId, provider: 'youtube' }],
                            };
                            player.play();
                            currentVideoTitleEl.textContent = vidTitle;
                        }
                    });
                });

            } catch (err) {
                console.error("Init error:", err);
            }
        });
    </script>
</body>
</html>
