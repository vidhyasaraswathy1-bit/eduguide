<!DOCTYPE html>
<html lang="en" class="scroll-smooth select-none">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vidyantrix - Premium Online Learning</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Plyr.js CSS -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    <!-- Load Google Font: Plus Jakarta Sans (Premium feeling font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Load Scripts -->
    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            /* Disable text selection globally */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Premium Gradient Text */
        .text-gradient {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Abstract Background Shapes */
        .blob {
            position: absolute;
            filter: blur(50px);
            z-index: 0;
            opacity: 0.4;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* --- PLAYER SECURITY BARRIER --- */
        .plyr__video-embed iframe {
            pointer-events: none;
        }

        /* Rating Star Animation */
        .star-btn:hover svg,
        .star-btn.active svg {
            fill: #f59e0b; /* Amber-500 */
            stroke: #f59e0b;
            transform: scale(1.2);
        }
        .star-btn svg {
            transition: all 0.2s ease;
        }

        /* --- NEW HERO ANIMATIONS --- */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        @keyframes float-delayed {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        .animate-float-delayed {
            animation: float-delayed 7s ease-in-out infinite 1s;
        }
        
        /* Blob Animation */
        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
            animation: blob 7s infinite;
        }
        .animation-delay-2000 {
            animation-delay: 2s;
        }
        .animation-delay-4000 {
            animation-delay: 4s;
        }
        
        /* Typography for Info Pages */
        .prose h1 { @apply text-3xl font-extrabold text-slate-900 mb-6 border-b-2 border-brand-100 pb-4; }
        .prose h2 { @apply text-xl font-bold text-brand-800 mt-10 mb-4 flex items-center gap-2; }
        .prose h3 { @apply text-lg font-semibold text-slate-700 mt-6 mb-2 border-l-4 border-brand-400 pl-3; }
        .prose p { @apply text-slate-600 mb-4 leading-relaxed; }
        .prose ul { @apply list-none text-slate-600 mb-6 space-y-2 ml-2; }
        .prose li { @apply relative pl-6 before:content-['•'] before:absolute before:left-0 before:text-brand-500 before:font-bold; }
        .prose strong { @apply font-bold text-slate-800; }
    </style>
    <script>
        // Custom Tailwind Config with Premium Colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6', // Primary Blue
                            600: '#2563eb',
                            700: '#1d4ed8', // Deep Royal
                            800: '#1e40af',
                            900: '#1e3a8a',
                            950: '#172554',
                        },
                        accent: {
                            500: '#f59e0b', // Gold/Amber for highlighting
                        }
                    },
                    boxShadow: {
                        'glow': '0 0 20px rgba(59, 130, 246, 0.5)',
                        'card': '0 10px 30px -10px rgba(0, 0, 0, 0.1)',
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-slate-50 text-slate-800 antialiased selection:bg-brand-200 selection:text-brand-900" oncontextmenu="return false;">

    <!-- Global Container -->
    <div id="app-container" class="relative overflow-hidden">

        <!-- Background Decor for Premium Feel -->
        <div class="blob bg-brand-300 w-96 h-96 rounded-full top-0 left-0 -translate-x-1/2 -translate-y-1/2 mix-blend-multiply"></div>
        <div class="blob bg-purple-300 w-96 h-96 rounded-full bottom-0 right-0 translate-x-1/3 translate-y-1/3 mix-blend-multiply"></div>

        <!-- Announcement Banner -->
        <div id="announcement-bar" class="relative z-[60] bg-brand-900">
            <a href="#courses" class="block w-full">
                <img src="https://placehold.co/1920x80/1e3a8a/ffffff?text=BIG+SALE:+Get+50%25+OFF+on+All-Subject+Bundles!+Click+Here+to+Buy+Now" 
                     alt="Announcement Banner" 
                     class="hidden md:block w-full h-auto object-cover max-h-24" />
                <img src="https://placehold.co/800x100/1e3a8a/ffffff?text=50%25+OFF+Bundles+-+Click+Here" 
                     alt="Announcement Banner Mobile" 
                     class="md:hidden w-full h-auto object-cover max-h-16" />
            </a>
        </div>

        <!-- Landing Page Section -->
        <div id="landing-page" class="relative z-10">
            
            <!-- Sticky Glassmorphism Navbar -->
            <header class="sticky top-0 z-50 backdrop-blur-md bg-white/80 border-b border-slate-200/60 shadow-sm transition-all duration-300" id="navbar">
                <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
                    <a href="#" class="flex items-center gap-2 group">
                        <div class="w-8 h-8 bg-gradient-to-br from-brand-600 to-brand-800 rounded-lg flex items-center justify-center text-white shadow-lg group-hover:shadow-brand-500/50 transition-all">
                            <span class="font-bold text-lg">V</span>
                        </div>
                        <span class="text-2xl font-extrabold tracking-tight text-slate-900">Vidyantrix</span>
                    </a>

                    <div class="hidden md:flex items-center space-x-8">
                        <a href="#hero" class="text-sm font-medium text-slate-600 hover:text-brand-600 transition-colors">Home</a>
                        <a href="#courses" class="text-sm font-medium text-slate-600 hover:text-brand-600 transition-colors">Courses</a>
                        <a href="#features" class="text-sm font-medium text-slate-600 hover:text-brand-600 transition-colors">Features</a>
                        <div class="h-4 w-px bg-slate-300"></div>
                        <a href="#" class="text-sm font-medium text-slate-600 hover:text-brand-600 transition-colors">Sign In</a>
                        <a href="#" class="px-5 py-2.5 bg-gradient-to-r from-brand-600 to-brand-700 text-white rounded-full text-sm font-semibold hover:shadow-lg hover:shadow-brand-500/30 hover:-translate-y-0.5 transition-all duration-300">
                            Get Started
                        </a>
                    </div>

                    <button id="mobile-menu-btn" class="md:hidden text-slate-700 hover:text-brand-600 transition-colors" aria-label="Open menu">
                        <i data-lucide="menu" class="w-6 h-6"></i>
                    </button>
                </nav>

                <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-slate-100 absolute w-full shadow-xl">
                    <div class="px-6 py-4 space-y-3">
                        <a href="#hero" class="block text-slate-600 hover:text-brand-600 font-medium">Home</a>
                        <a href="#courses" class="block text-slate-600 hover:text-brand-600 font-medium">Courses</a>
                        <a href="#features" class="block text-slate-600 hover:text-brand-600 font-medium">Features</a>
                        <hr class="border-slate-100">
                        <a href="#" class="block text-slate-600 hover:text-brand-600 font-medium">Sign In</a>
                        <a href="#" class="block w-full text-center px-5 py-3 bg-brand-600 text-white rounded-lg font-semibold">Get Started</a>
                    </div>
                </div>
            </header>

            <!-- Hero Section -->
            <section id="hero" class="relative pt-16 pb-24 lg:pt-24 lg:pb-32 overflow-hidden">
                <div class="container mx-auto px-6">
                    <div class="flex flex-col lg:flex-row items-center gap-12">
                        <!-- Text Content -->
                        <div class="lg:w-1/2 text-center lg:text-left z-10">
                            <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-brand-50 border border-brand-100 text-brand-700 text-xs font-bold uppercase tracking-wide mb-6">
                                <span class="w-2 h-2 rounded-full bg-brand-500 animate-pulse"></span>
                                New Batches Starting Soon
                            </div>
                            <h1 class="text-4xl lg:text-6xl font-extrabold text-slate-900 leading-[1.15] tracking-tight mb-6">
                                Master Your Grades with <span class="text-gradient">Vidyantrix</span>
                            </h1>
                            <p class="text-lg text-slate-600 mb-8 leading-relaxed max-w-xl mx-auto lg:mx-0">
                                Get the complete package! Physics, Chemistry, Biology, and Maths in one single bundle for Grades 5-10.
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                                <a href="#courses" class="px-8 py-4 bg-brand-600 text-white rounded-xl font-semibold hover:bg-brand-700 transition-all hover:shadow-xl hover:shadow-brand-500/20 flex items-center justify-center gap-2">
                                    Explore Bundles <i data-lucide="arrow-right" class="w-4 h-4"></i>
                                </a>
                                <a href="#features" class="px-8 py-4 bg-white text-slate-700 border border-slate-200 rounded-xl font-semibold hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-2">
                                    <i data-lucide="play-circle" class="w-4 h-4 text-brand-600"></i> Watch Demo
                                </a>
                            </div>
                            
                            <div class="mt-10 flex items-center justify-center lg:justify-start gap-6 text-sm font-medium text-slate-500">
                                <div class="flex items-center gap-2">
                                    <div class="flex -space-x-2">
                                        <div class="w-8 h-8 rounded-full bg-slate-200 border-2 border-white"></div>
                                        <div class="w-8 h-8 rounded-full bg-slate-300 border-2 border-white"></div>
                                        <div class="w-8 h-8 rounded-full bg-slate-400 border-2 border-white"></div>
                                    </div>
                                    <span>10k+ Students</span>
                                </div>
                                <div class="w-1 h-1 bg-slate-300 rounded-full"></div>
                                <div class="flex items-center gap-1">
                                    <i data-lucide="star" class="w-4 h-4 text-accent-500 fill-current"></i>
                                    <span>4.9/5 Rating</span>
                                </div>
                            </div>
                        </div>

                        <!-- Visual Content -->
                        <div class="lg:w-1/2 relative z-10 perspective-1000">
                            <div class="relative w-full max-w-lg mx-auto aspect-square">
                                <!-- Animated Background Blobs -->
                                <div class="absolute top-0 -left-4 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"></div>
                                <div class="absolute top-0 -right-4 w-72 h-72 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"></div>
                                <div class="absolute -bottom-8 left-20 w-72 h-72 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"></div>

                                <!-- Main Glass Card -->
                                <div class="absolute inset-4 bg-white/60 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-white/50 flex flex-col items-center justify-center text-center p-8 transform rotate-2 hover:rotate-0 transition-transform duration-500">
                                    <div class="w-24 h-24 bg-gradient-to-tr from-brand-500 to-brand-300 rounded-3xl flex items-center justify-center mb-6 shadow-lg shadow-brand-500/30">
                                        <i data-lucide="graduation-cap" class="w-12 h-12 text-white"></i>
                                    </div>
                                    <div class="space-y-3 w-full">
                                        <div class="h-3 bg-slate-200/50 rounded-full w-2/3 mx-auto"></div>
                                        <div class="h-3 bg-slate-200/50 rounded-full w-1/2 mx-auto"></div>
                                    </div>
                                    
                                    <div class="mt-8 w-full bg-white rounded-xl p-4 shadow-md border border-slate-100 flex items-center gap-4">
                                        <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600">
                                            <i data-lucide="play" class="w-5 h-5 fill-current"></i>
                                        </div>
                                        <div class="text-left">
                                            <div class="text-xs text-slate-400 font-semibold uppercase">Now Playing</div>
                                            <div class="text-sm font-bold text-slate-800">Algebra Basics</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Floating Badge: Daily Goals -->
                                <div class="absolute -top-6 right-0 bg-white p-4 rounded-2xl shadow-xl border border-slate-50 animate-float">
                                    <div class="flex items-center gap-3">
                                        <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-green-600">
                                            <i data-lucide="check-circle-2" class="w-6 h-6"></i>
                                        </div>
                                        <div>
                                            <div class="text-xs text-slate-500 font-medium">Daily Goals</div>
                                            <div class="text-lg font-bold text-slate-800">Completed</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Floating Badge: Live Class -->
                                <div class="absolute bottom-8 -left-8 bg-white p-4 rounded-2xl shadow-xl border border-slate-50 animate-float-delayed">
                                    <div class="flex items-center gap-4">
                                        <div class="w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center text-blue-600 relative">
                                            <i data-lucide="video" class="w-6 h-6"></i>
                                            <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white animate-ping"></span>
                                            <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white"></span>
                                        </div>
                                        <div>
                                            <div class="text-xs text-slate-500 font-medium">Live Class</div>
                                            <div class="text-lg font-bold text-slate-800">In 5 Mins</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Course Marketplace Section -->
            <section id="courses" class="py-24 relative">
                <div class="container mx-auto px-6">
                    <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-4">
                        <div>
                            <h2 class="text-3xl md:text-4xl font-bold text-slate-900">Featured Bundles</h2>
                            <p class="mt-2 text-lg text-slate-500">Complete study packages. All subjects in one place.</p>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-brand-600 text-white shadow-lg shadow-brand-500/30" data-grade="10">Grade 10</button>
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-white text-slate-600 hover:bg-slate-100 border border-slate-200" data-grade="9">Grade 9</button>
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-white text-slate-600 hover:bg-slate-100 border border-slate-200" data-grade="8">Grade 8</button>
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-white text-slate-600 hover:bg-slate-100 border border-slate-200" data-grade="7">Grade 7</button>
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-white text-slate-600 hover:bg-slate-100 border border-slate-200" data-grade="6">Grade 6</button>
                            <button class="grade-filter-btn px-4 py-2 rounded-full text-sm font-semibold transition-all bg-white text-slate-600 hover:bg-slate-100 border border-slate-200" data-grade="5">Grade 5</button>
                        </div>
                    </div>

                    <!-- Course Grid (One Card Per Grade) -->
                    <div id="course-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Content generated by JS -->
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <footer class="bg-brand-950 text-slate-400 py-16 border-t border-brand-900">
                <div class="container mx-auto px-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
                        <div>
                            <h3 class="text-2xl font-bold text-white mb-4">Vidyantrix</h3>
                            <p class="text-sm leading-relaxed">Empowering students with high-quality, accessible education.</p>
                        </div>
                        <div>
                            <h4 class="text-white font-semibold mb-4">Company</h4>
                            <ul class="space-y-2 text-sm">
                                <li><a href="#" onclick="showInfoPage('about')" class="hover:text-white transition-colors">About Us</a></li>
                                <li><a href="#" onclick="showInfoPage('contact')" class="hover:text-white transition-colors">Contact Us</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="text-white font-semibold mb-4">Legal</h4>
                            <ul class="space-y-2 text-sm">
                                <li><a href="#" onclick="showInfoPage('privacy')" class="hover:text-white transition-colors">Privacy Policy</a></li>
                                <li><a href="#" onclick="showInfoPage('terms')" class="hover:text-white transition-colors">Terms & Conditions</a></li>
                                <li><a href="#" onclick="showInfoPage('refund')" class="hover:text-white transition-colors">Refund Policy</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="text-white font-semibold mb-4">Connect</h4>
                            <div class="flex space-x-4">
                                <a href="#" class="hover:text-white transition-colors"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                                <a href="#" class="hover:text-white transition-colors"><i data-lucide="youtube" class="w-5 h-5"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="text-center border-t border-brand-900 pt-8 text-sm">
                        <p>&copy; 2024 Vidyantrix. All rights reserved.</p>
                    </div>
                </div>
            </footer>
        </div>


        <!-- Course Preview Modal -->
        <div id="course-preview-modal" class="hidden fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 opacity-0 transition-opacity duration-300">
            <div class="relative bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl scale-95 transition-transform duration-300 transform" id="modal-panel">
                <div class="flex justify-between items-start p-6 border-b border-slate-100">
                    <h3 id="modal-title" class="text-2xl font-bold text-slate-900 pr-4">Course Title</h3>
                    <button id="modal-close-btn" class="text-slate-400 hover:bg-slate-100 hover:text-slate-900 rounded-full p-2 transition-colors"><i data-lucide="x" class="w-5 h-5"></i></button>
                </div>
                <div class="p-6 space-y-6">
                    <img id="modal-image" src="" alt="Course Image" class="w-full h-64 object-cover rounded-xl shadow-md">
                    <p id="modal-description" class="text-slate-600 leading-relaxed">Description</p>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-slate-50 p-4 rounded-xl">
                            <div class="text-xs text-slate-500 font-bold uppercase mb-1">Subjects</div>
                            <div class="font-semibold text-slate-900 text-sm" id="modal-subjects">Subject</div>
                        </div>
                        <div class="bg-slate-50 p-4 rounded-xl">
                            <div class="text-xs text-slate-500 font-bold uppercase mb-1">Content</div>
                            <div class="font-semibold text-slate-900" id="modal-videos">0 Videos</div>
                        </div>
                    </div>
                </div>
                <div class="flex items-center justify-between p-6 border-t border-slate-100 bg-slate-50 rounded-b-2xl">
                    <span id="modal-price" class="text-3xl font-bold text-slate-900">₹0</span>
                    <button id="start-course-btn" class="px-8 py-3 bg-brand-600 text-white rounded-xl font-semibold hover:bg-brand-700 transition-all shadow-lg hover:shadow-brand-500/30 transform hover:-translate-y-0.5">Start Learning Now</button>
                </div>
            </div>
        </div>


        <!-- Course Player Section -->
        <div id="course-player-page" class="hidden min-h-screen bg-slate-100">
            <!-- Sticky Header -->
            <header class="bg-white shadow-sm z-20 sticky top-0 border-b border-slate-200 h-16 flex items-center">
                <div class="container mx-auto px-6 flex justify-between items-center w-full">
                    <a href="#" class="text-xl font-extrabold text-slate-900 flex items-center gap-2">
                        <div class="w-6 h-6 bg-brand-600 rounded flex items-center justify-center text-white text-xs">V</div>
                        Vidyantrix
                    </a>
                    <h2 id="player-course-title" class="text-sm font-semibold text-slate-600 hidden md:block border-l border-slate-200 pl-4 ml-4"></h2>
                    <a href="#" id="exit-player-btn" class="text-xs font-bold uppercase tracking-wide text-slate-500 hover:text-brand-600 flex items-center border border-slate-200 px-3 py-1.5 rounded-md hover:bg-slate-50 transition-colors">
                        <i data-lucide="log-out" class="w-3 h-3 mr-2"></i> Exit
                    </a>
                </div>
            </header>

            <!-- Main Content Area - FIXED PADDING -->
            <div class="container mx-auto p-4 lg:p-8 pt-20"> <!-- Added pt-20 for header clearance -->
                <h2 id="mobile-player-course-title" class="text-xl font-bold text-slate-900 mb-4 md:hidden"></h2>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Main Video Player -->
                    <div class="lg:col-span-2">
                        <div class="relative">
                            <div id="video-wrapper" class="bg-black rounded-xl shadow-2xl overflow-hidden border border-slate-800 aspect-video relative z-10">
                                <div id="video-player" class="plyr__video-embed">
                                    <iframe src="" allowfullscreen allowtransparency allow="autoplay"></iframe>
                                </div>
                            </div>
                            
                            <!-- Rating Overlay -->
                            <div id="rating-overlay" class="hidden absolute inset-0 z-20 bg-slate-900/95 rounded-xl flex flex-col items-center justify-center text-center p-6 backdrop-blur-sm transition-all duration-500 opacity-0">
                                <div class="w-16 h-16 bg-brand-900/50 rounded-full flex items-center justify-center mb-4 border border-brand-500/30">
                                    <i data-lucide="star" class="w-8 h-8 text-brand-400"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-white mb-2">Rate this Class</h3>
                                <p class="text-slate-400 text-sm mb-6 max-w-xs">How helpful was this video lesson? Your feedback helps us improve.</p>
                                
                                <div class="flex gap-2 mb-8" id="star-container">
                                    <button class="star-btn p-1" data-value="1"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                    <button class="star-btn p-1" data-value="2"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                    <button class="star-btn p-1" data-value="3"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                    <button class="star-btn p-1" data-value="4"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                    <button class="star-btn p-1" data-value="5"><i data-lucide="star" class="w-8 h-8 text-slate-600 fill-current"></i></button>
                                </div>
                                
                                <button id="submit-rating-btn" class="px-8 py-2.5 bg-brand-600 hover:bg-brand-500 text-white rounded-full font-semibold transition-all shadow-lg shadow-brand-500/20 disabled:opacity-50 disabled:cursor-not-allowed">
                                    Submit Feedback
                                </button>
                                <button id="skip-rating-btn" class="mt-4 text-xs text-slate-500 hover:text-slate-300 underline">Skip</button>
                            </div>
                        </div>

                        <div class="mt-4 bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                            <h1 class="text-xl font-bold text-slate-900 mb-2" id="current-video-title">Welcome to the Course</h1>
                            <p class="text-slate-500 text-sm">Select a topic from the syllabus to start watching.</p>
                        </div>
                    </div>

                    <!-- Syllabus -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden flex flex-col h-[80vh] lg:h-[800px] sticky top-24">
                            <div class="p-4 border-b border-slate-100 bg-slate-50">
                                <h3 class="font-bold text-slate-900">Course Content</h3>
                                <div class="w-full bg-slate-200 rounded-full h-1.5 mt-2">
                                    <!-- Added IDs for progress bar logic -->
                                    <div class="bg-brand-500 h-1.5 rounded-full" style="width: 0%" id="course-progress-bar"></div>
                                </div>
                                <p class="text-xs text-slate-500 mt-1" id="course-progress-text">0% Completed</p>
                            </div>
                            
                            <div id="syllabus-container" class="overflow-y-auto flex-1 p-2 space-y-2">
                                <!-- Content injected via JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Info Page Section -->
        <div id="info-page" class="hidden min-h-screen bg-white z-50 relative">
            <!-- Sticky Header for Info Page -->
            <header class="sticky top-0 z-50 backdrop-blur-md bg-white/80 border-b border-slate-200 shadow-sm">
                <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                    <a href="#" class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-brand-600 rounded-lg flex items-center justify-center text-white font-bold text-lg">V</div>
                        <span class="text-2xl font-extrabold text-slate-900">Vidyantrix</span>
                    </a>
                    <button onclick="closeInfoPage()" class="text-sm font-medium text-slate-600 hover:text-brand-600 flex items-center gap-2 border border-slate-200 rounded-md px-4 py-2 hover:bg-slate-50 transition-all">
                        <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Home
                    </button>
                </div>
            </header>
            
            <!-- Content Area -->
            <div class="container mx-auto px-6 py-12 max-w-4xl">
                <div id="info-content-area" class="prose prose-slate lg:prose-lg max-w-none">
                    <!-- Dynamic content injected here -->
                </div>
            </div>
            
            <!-- Simple Footer for Info Page -->
            <div class="border-t border-slate-100 py-8 text-center text-slate-400 text-sm">
                &copy; 2024 Vidyantrix. All rights reserved.
            </div>
        </div>

    </div>

    <!-- Logic -->
    <script>
        // Security Scripts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || 
                (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.key === 'C')) || 
                (e.ctrlKey && e.key === 'U')) {
                e.preventDefault();
            }
        });

        document.addEventListener('keyup', function(e) {
            if (e.key == 'PrintScreen') {
                navigator.clipboard.writeText('');
                alert('Screenshots are disabled on this platform.');
            }
        });

        // INFO PAGE CONTENT DATA
        const infoContent = {
            'about': `
                <h1>About Vidyantrix</h1>
                <p>Vidyantrix is an innovative digital learning platform committed to creating structured, accessible, and outcome-driven educational experiences. We combine the strengths of live interactive classes, pre-recorded video lessons, and digital study resources to support students across various academic levels and competitive examinations.</p>
                <p>Our mission is to provide reliable, high-quality learning solutions that empower students to achieve academic excellence. We believe in a teaching model that is personalized, flexible, and continuously improving, ensuring that learners receive guidance that adapts to their pace and goals.</p>
                
                <h2>Our Core Principles</h2>
                <ul>
                    <li><strong>Quality Learning:</strong> Expert-driven sessions with a focus on conceptual clarity and practical understanding.</li>
                    <li><strong>Student-Centric Approach:</strong> Every feature is designed with student convenience, accessibility, and success in mind.</li>
                    <li><strong>Integrity & Transparency:</strong> Clear communication, reliable service, and ethical operations.</li>
                    <li><strong>Innovation:</strong> Technology-backed learning tools, analytics, and content delivery.</li>
                </ul>

                <h2>What We Offer</h2>
                <ul>
                    <li>Live online classes (personal and group)</li>
                    <li>Recorded course modules</li>
                    <li>Exam-oriented study materials</li>
                    <li>Daily/weekly assessments</li>
                    <li>Personalized academic support</li>
                    <li>Performance tracking tools</li>
                </ul>
                <p class="mt-8 font-medium text-brand-700 italic">Vidyantrix aims to serve as a trusted guide throughout a student’s learning journey, offering a balance of structure, flexibility, and academic discipline.</p>
            `,
            'contact': `
                <h1>Contact Us</h1>
                <p class="text-lg text-slate-700">We welcome all questions, feedback, and support requests.</p>
                <p>Our team is committed to providing timely and helpful assistance.</p>
                
                <div class="grid md:grid-cols-2 gap-6 mt-8 mb-8">
                    <div class="p-6 bg-slate-50 rounded-xl border border-slate-200">
                        <h3 class="!mt-0 !border-0 text-brand-700">Reach Out</h3>
                        <div class="flex items-center gap-3 mb-3">
                            <i data-lucide="mail" class="text-brand-600"></i>
                            <span class="font-medium">support@vidyantrix.com</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <i data-lucide="phone" class="text-brand-600"></i>
                            <span class="font-medium">+91-XXXXXXXXXX</span>
                        </div>
                    </div>
                    <div class="p-6 bg-slate-50 rounded-xl border border-slate-200">
                        <h3 class="!mt-0 !border-0 text-brand-700">Operating Hours</h3>
                        <p class="!mb-1 text-slate-700">Monday to Saturday</p>
                        <p class="font-bold text-slate-900">10:00 AM – 7:00 PM</p>
                    </div>
                </div>

                <p>Vidyantrix functions as a digital-first platform. Inquiries will be addressed through online communication channels.</p>
                <p class="text-sm text-slate-500 mt-6 bg-yellow-50 p-3 rounded border border-yellow-200">For technical issues, billing queries, or class-related assistance, please contact us via email for a detailed response.</p>
            `,
            'privacy': `
                <h1>Privacy Policy</h1>
                <p>This Privacy Policy outlines how <strong class="text-brand-700">Vidyantrix</strong> (hereinafter referred to as “we”, “our”, or “the Platform”) collects, processes, stores, protects, and utilizes information provided by users (“you”, “your”).</p>
                <p>By accessing or using this Platform, you agree to the practices described in this Policy.</p>

                <h2>1. Information We Collect</h2>
                <p>We may collect and process the following categories of information:</p>
                <h3>1.1 Personal Information</h3>
                <ul>
                    <li>Name, email address, phone number</li>
                    <li>Age or date of birth (if required)</li>
                    <li>Location details (as provided by the user)</li>
                </ul>
                <h3>1.2 Transactional Information</h3>
                <ul>
                    <li>Payment confirmations</li>
                    <li>Billing details</li>
                    <li>Course purchase records</li>
                </ul>
                <p class="text-sm text-slate-500 italic pl-4 border-l-2 border-slate-300">Note: Payment data is processed securely through third-party payment gateways.</p>
                <h3>1.3 Usage Information</h3>
                <ul>
                    <li>Login details</li>
                    <li>Device/browser information</li>
                    <li>Interaction data related to classes, courses, or materials</li>
                    <li>Cookies and analytical identifiers</li>
                </ul>

                <h2>2. How We Use Your Information</h2>
                <p>We use collected data to:</p>
                <ul>
                    <li>Provide access to courses, classes, assessments, and materials</li>
                    <li>Verify identity and manage user accounts</li>
                    <li>Process transactions</li>
                    <li>Deliver notifications, reminders, and important updates</li>
                    <li>Improve platform performance and user experience</li>
                    <li>Enhance course recommendations and academic support</li>
                    <li>Ensure system integrity and security</li>
                </ul>

                <h2>3. Sharing of Information</h2>
                <p>We may share necessary information with:</p>
                <ul>
                    <li>Payment gateway partners</li>
                    <li>Technical service providers</li>
                    <li>Customer support tools</li>
                    <li>Legal authorities, if required</li>
                </ul>
                <p><strong class="text-brand-700">We do not sell or rent your information to third parties.</strong></p>

                <h2>4. Data Protection & Retention</h2>
                <p>We implement industry-standard security measures to safeguard your data. Your information may be retained for:</p>
                <ul>
                    <li>Legal compliance</li>
                    <li>Transactional verification</li>
                    <li>Academic service continuity</li>
                    <li>Internal analysis and performance improvement</li>
                </ul>
                <p>Data is stored securely and accessed only by authorized personnel.</p>

                <h2>5. User Rights</h2>
                <p>You may request:</p>
                <ul>
                    <li>Correction of incorrect or outdated information</li>
                    <li>Deletion of your account (subject to legal and operational constraints)</li>
                    <li>Information on how your data is being used</li>
                </ul>
                <p>For such requests, contact: <a href="mailto:privacy@vidyantrix.com" class="text-brand-600 underline font-bold">privacy@vidyantrix.com</a></p>

                <h2>6. Policy Updates</h2>
                <p>Vidyantrix may revise this Privacy Policy periodically. Continued use of the Platform constitutes acceptance of updated terms.</p>
            `,
            'terms': `
                <h1>Terms and Conditions</h1>
                <p>These Terms and Conditions (“Terms”) govern your access to and use of the Vidyantrix Platform. By using our services, you agree to comply with these Terms.</p>

                <h2>1. Services</h2>
                <p>Vidyantrix provides:</p>
                <ul>
                    <li>Online live classes</li>
                    <li>Recorded educational videos</li>
                    <li>Digital study materials</li>
                    <li>Test series and assessments</li>
                    <li>Student support and academic guidance</li>
                </ul>
                <p class="text-slate-500 italic">All services are subject to change, modification, or enhancement without prior notice.</p>

                <h2>2. User Responsibilities</h2>
                <p>Users agree to:</p>
                <ul>
                    <li>Provide accurate information during registration</li>
                    <li>Maintain confidentiality of login credentials</li>
                    <li>Use the Platform only for personal learning purposes</li>
                    <li>Comply with all applicable laws while using the services</li>
                </ul>
                <p><strong class="text-red-600">You must not:</strong></p>
                <ul class="text-red-700 bg-red-50 p-4 rounded border border-red-100">
                    <li>Record, copy, download, distribute, or share any content without permission</li>
                    <li>Allow others to access your account</li>
                    <li>Try to bypass security controls or technical restrictions</li>
                    <li>Misuse the Platform for illegal or inappropriate activities</li>
                </ul>

                <h2>3. Intellectual Property</h2>
                <p>All materials on the Platform—including videos, documents, graphics, digital content, and technology—are the exclusive property of Vidyantrix.</p>
                <p class="font-bold text-brand-700">No user is permitted to reproduce, modify, host, publish, transmit, or resell any content without written authorization.</p>

                <h2>4. Payment Terms</h2>
                <p>All payments:</p>
                <ul>
                    <li>Must be made through the approved modes</li>
                    <li>Are non-transferable</li>
                    <li>Are subject to the Refund and Cancellation Policy</li>
                </ul>

                <h2>5. Limitation of Liability</h2>
                <p>Vidyantrix shall not be responsible for:</p>
                <ul>
                    <li>Internet issues on the user’s end</li>
                    <li>Device errors, software problems, or compatibility issues</li>
                    <li>Disruptions caused by third-party service providers</li>
                    <li>User misunderstanding of course content</li>
                </ul>

                <h2>6. Termination</h2>
                <p>We reserve the right to suspend, restrict, or terminate any user account in cases of:</p>
                <ul>
                    <li>Policy violation</li>
                    <li>Misuse of the Platform</li>
                    <li>Fraudulent activity</li>
                    <li>Non-compliance with these Terms</li>
                </ul>

                <h2>7. Amendments</h2>
                <p>Vidyantrix may update or modify these Terms at any time. Continued use of the Platform implies acceptance of revised Terms.</p>
            `,
            'refund': `
                <h1>Refund and Cancellation Policy</h1>
                <p>This Policy outlines the conditions under which refunds or cancellations may be considered.</p>

                <h2>1. Refund Eligibility</h2>
                <p>A refund may be initiated only in the following circumstances:</p>
                <ul>
                    <li>If payment is successfully deducted but the course is not activated.</li>
                    <li>If the same course is accidentally purchased more than once.</li>
                    <li>If a technical failure from our side prevents course access.</li>
                </ul>
                <p class="bg-yellow-50 p-2 rounded border-l-4 border-yellow-400 text-sm">All refund requests must be supported with valid proof (transaction ID, screenshots, etc.).</p>

                <h2>2. Non-Refundable Situations</h2>
                <p>Refunds will not be provided for:</p>
                <ul>
                    <li>Digital courses once accessed or viewed</li>
                    <li>Live classes that have already been attended</li>
                    <li>Study materials already downloaded or opened</li>
                    <li>Change of mind or mistaken purchases</li>
                    <li>Device or internet issues on the user’s side</li>
                </ul>
                <p>Subscriptions and long-term plans become non-refundable once activated.</p>

                <h2>3. Cancellation Policy</h2>
                <p>Registrations for live class packages may be cancelled only before the first scheduled session begins.</p>
                <p>After classes commence, cancellation is not permitted.</p>

                <h2>4. Refund Processing</h2>
                <p>If a refund is approved:</p>
                <ul>
                    <li>It will be processed within <strong>5–10 working days</strong></li>
                    <li>Refund will be issued through the original payment method only</li>
                </ul>
                <p class="text-sm text-slate-500 italic">Processing time may vary depending on banking or payment gateway procedures.</p>

                <h2>5. How to Request a Refund</h2>
                <p>Contact: <a href="mailto:refunds@vidyantrix.com" class="text-brand-600 underline font-bold">refunds@vidyantrix.com</a></p>
                <p>Include:</p>
                <ul>
                    <li>Registered email address</li>
                    <li>Payment details</li>
                    <li>Reason for request</li>
                    <li>Supporting documents</li>
                </ul>
                <p>All requests are subject to internal review and verification.</p>
            `
        };

        function showInfoPage(pageKey) {
            // Hide main pages
            document.getElementById('landing-page').classList.add('hidden');
            document.getElementById('course-player-page').classList.add('hidden');
            
            // Show Info Page
            const infoPage = document.getElementById('info-page');
            infoPage.classList.remove('hidden');
            
            // Inject Content
            const contentArea = document.getElementById('info-content-area');
            contentArea.innerHTML = infoContent[pageKey] || '<p>Content not found.</p>';
            
            // Refresh icons
            if(typeof lucide !== 'undefined') lucide.createIcons();
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        function closeInfoPage() {
            document.getElementById('info-page').classList.add('hidden');
            document.getElementById('landing-page').classList.remove('hidden');
            window.scrollTo(0, 0);
        }

        window.addEventListener('load', () => {
            try {
                if (typeof lucide !== 'undefined') lucide.createIcons();

                // Sticky Navbar
                const navbar = document.getElementById('navbar');
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 50) {
                        navbar.classList.add('shadow-md', 'bg-white/95');
                        navbar.classList.remove('bg-white/80');
                    } else {
                        navbar.classList.remove('shadow-md', 'bg-white/95');
                        navbar.classList.add('bg-white/80');
                    }
                });

                // General UI
                const mobileMenuBtn = document.getElementById('mobile-menu-btn');
                const mobileMenu = document.getElementById('mobile-menu');
                const modal = document.getElementById('course-preview-modal');
                const modalPanel = document.getElementById('modal-panel');
                const modalCloseBtn = document.getElementById('modal-close-btn');
                const startCourseBtn = document.getElementById('start-course-btn');
                const gradeFilterBtns = document.querySelectorAll('.grade-filter-btn');
                const landingPage = document.getElementById('landing-page');
                const coursePlayerPage = document.getElementById('course-player-page');
                const exitPlayerBtn = document.getElementById('exit-player-btn');
                const currentVideoTitleEl = document.getElementById('current-video-title');
                const courseGrid = document.getElementById('course-grid');
                const syllabusContainer = document.getElementById('syllabus-container');
                
                // Rating UI
                const ratingOverlay = document.getElementById('rating-overlay');
                const starBtns = document.querySelectorAll('.star-btn');
                const submitRatingBtn = document.getElementById('submit-rating-btn');
                const skipRatingBtn = document.getElementById('skip-rating-btn');
                
                let player;
                let currentRating = 0;
                let currentSelectedGrade = '10';

                if (mobileMenuBtn) {
                    mobileMenuBtn.addEventListener('click', () => {
                        mobileMenu.classList.toggle('hidden');
                        if(typeof lucide !== 'undefined') lucide.createIcons();
                    });
                }

                // --- COURSE BUNDLE GENERATOR ---
                const renderCourses = (grade) => {
                    courseGrid.innerHTML = ''; 
                    
                    const cardHTML = `
                    <div class="course-card group bg-white rounded-2xl shadow-card hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 border border-slate-100 overflow-hidden flex flex-col cursor-pointer"
                         data-grade="${grade}" 
                         onclick="openModalFor('${grade}')">
                        <div class="relative h-48 overflow-hidden bg-gradient-to-br from-brand-600 to-brand-800 flex items-center justify-center">
                            <div class="text-center text-white">
                                <i data-lucide="layers" class="w-12 h-12 mx-auto mb-2 opacity-80"></i>
                                <h3 class="text-2xl font-bold">Grade ${grade}</h3>
                                <p class="text-sm opacity-90">Complete Bundle</p>
                            </div>
                            <div class="absolute top-3 right-3 bg-accent-500 text-white px-2 py-1 rounded-md text-xs font-bold shadow-sm">Best Value</div>
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold text-slate-900 mb-2 group-hover:text-brand-600 transition-colors">All Subjects Included</h3>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="bg-blue-50 text-blue-700 text-xs font-bold px-2 py-1 rounded">Physics</span>
                                <span class="bg-purple-50 text-purple-700 text-xs font-bold px-2 py-1 rounded">Chemistry</span>
                                <span class="bg-green-50 text-green-700 text-xs font-bold px-2 py-1 rounded">Biology</span>
                                <span class="bg-orange-50 text-orange-700 text-xs font-bold px-2 py-1 rounded">Maths</span>
                            </div>
                            <p class="text-slate-500 text-sm mb-4 line-clamp-2">Comprehensive study package for Grade ${grade}. Includes video lessons, quizzes, and more. <strong>Actual course videos will be updated soon.</strong></p>
                            <div class="mt-auto pt-4 border-t border-slate-100 flex justify-between items-center">
                                <div>
                                    <span class="text-2xl font-bold text-slate-900">₹9,999</span>
                                    <span class="text-sm text-slate-400 line-through ml-1">₹15,000</span>
                                </div>
                                <button class="w-10 h-10 rounded-full bg-brand-50 text-brand-600 flex items-center justify-center hover:bg-brand-600 hover:text-white transition-all"><i data-lucide="arrow-right" class="w-5 h-5"></i></button>
                            </div>
                        </div>
                    </div>`;
                    courseGrid.innerHTML = cardHTML;
                    
                    if(typeof lucide !== 'undefined') lucide.createIcons();
                };

                gradeFilterBtns.forEach(button => {
                    button.addEventListener('click', () => {
                        const selectedGrade = button.getAttribute('data-grade');
                        currentSelectedGrade = selectedGrade;
                        gradeFilterBtns.forEach(btn => {
                            btn.classList.remove('bg-brand-600', 'text-white', 'shadow-lg');
                            btn.classList.add('bg-white', 'text-slate-600', 'hover:bg-slate-100');
                        });
                        button.classList.remove('bg-white', 'text-slate-600', 'hover:bg-slate-100');
                        button.classList.add('bg-brand-600', 'text-white', 'shadow-lg');
                        renderCourses(selectedGrade);
                    });
                });

                renderCourses('10'); // Initial
                document.querySelector('[data-grade="10"]').classList.add('bg-brand-600', 'text-white', 'shadow-lg');
                document.querySelector('[data-grade="10"]').classList.remove('bg-white', 'text-slate-600');


                // --- Modal Logic ---
                window.openModalFor = (grade) => {
                    const title = `Grade ${grade} - Complete Bundle`;
                    document.getElementById('modal-title').textContent = title;
                    document.getElementById('modal-description').innerHTML = `Unlock the full potential of Grade ${grade}. This bundle includes complete curriculums for Physics, Chemistry, Biology, and Mathematics. Over 180 video lessons. <br><br><strong>Actual course videos will be updated soon.</strong>`;
                    document.getElementById('modal-price').textContent = `₹9,999`;
                    document.getElementById('modal-subjects').textContent = "Physics, Chemistry, Biology, Mathematics";
                    document.getElementById('modal-videos').textContent = `180+ Videos`;
                    document.getElementById('modal-image').src = `https://placehold.co/600x300/1d4ed8/ffffff?text=Grade+${grade}+Complete+Bundle`;
                    
                    document.getElementById('player-course-title').textContent = title;
                    document.getElementById('mobile-player-course-title').textContent = title;

                    modal.classList.remove('hidden');
                    setTimeout(() => {
                        modal.classList.remove('opacity-0');
                        modalPanel.classList.remove('scale-95');
                        modalPanel.classList.add('scale-100');
                    }, 10);
                    document.body.style.overflow = 'hidden';
                };

                const closeModal = () => {
                    modal.classList.add('opacity-0');
                    modalPanel.classList.remove('scale-100');
                    modalPanel.classList.add('scale-95');
                    setTimeout(() => {
                        modal.classList.add('hidden');
                        document.body.style.overflow = 'auto';
                    }, 300);
                };

                if (modalCloseBtn) modalCloseBtn.addEventListener('click', closeModal);


                // --- Nested Syllabus Generation ---
                const subjects = ['Physics', 'Chemistry', 'Biology', 'Mathematics'];
                
                const generateSyllabus = () => {
                    // --- ADDED NOTICE HERE ---
                    syllabusContainer.innerHTML = `
                        <div class="bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4 text-xs text-amber-800 flex items-start gap-2">
                            <i data-lucide="info" class="w-4 h-4 mt-0.5 flex-shrink-0"></i>
                            <span><strong>Note:</strong> This is a demo structure. Actual course videos will be updated soon.</span>
                        </div>
                    `;
                    
                    subjects.forEach((subject, sIdx) => {
                        // Level 1: Subject Accordion
                        let chaptersHTML = '';
                        for (let i = 1; i <= 15; i++) {
                            // Level 2: Chapter Accordion
                            chaptersHTML += `
                            <div class="border-l border-slate-200 ml-4 mb-2">
                                <button class="module-toggle-btn w-full p-2 pl-3 flex justify-between items-center text-left hover:bg-slate-50 rounded transition-colors text-sm font-medium text-slate-700">
                                    <span>Chapter ${i}: Topic ${i}</span>
                                    <i data-lucide="chevron-down" class="w-3 h-3 text-slate-400"></i>
                                </button>
                                <div class="chapter-list hidden pt-1 pb-2 pl-4">
                                    <div class="space-y-1">
                                        <!-- Level 3: Video Links -->
                                        <a href="#" class="video-link block p-2 rounded-md hover:bg-brand-50 text-slate-600 hover:text-brand-700 text-xs font-medium flex items-center gap-2" 
                                           data-title="${subject} - Ch ${i} - Intro" data-video-id="bTqVqk7FSmY">
                                            <i data-lucide="play-circle" class="w-3 h-3"></i> Introduction
                                        </a>
                                        <a href="#" class="video-link block p-2 rounded-md hover:bg-brand-50 text-slate-600 hover:text-brand-700 text-xs font-medium flex items-center gap-2" 
                                           data-title="${subject} - Ch ${i} - Deep Dive" data-video-id="YE7VzlLtp-4">
                                            <i data-lucide="play-circle" class="w-3 h-3"></i> Deep Dive
                                        </a>
                                        <a href="#" class="video-link block p-2 rounded-md hover:bg-brand-50 text-slate-600 hover:text-brand-700 text-xs font-medium flex items-center gap-2" 
                                           data-title="${subject} - Ch ${i} - Summary" data-video-id="bTqVqk7FSmY">
                                            <i data-lucide="play-circle" class="w-3 h-3"></i> Summary
                                        </a>
                                    </div>
                                </div>
                            </div>`;
                        }

                        const subjectHTML = `
                        <div class="border border-slate-200 rounded-lg overflow-hidden mb-3">
                            <button class="subject-toggle-btn w-full p-3 flex justify-between items-center text-left bg-slate-50 hover:bg-slate-100 transition-colors font-bold text-slate-800">
                                <div class="flex items-center gap-2">
                                    <span class="w-1.5 h-1.5 rounded-full bg-brand-500"></span>
                                    ${subject}
                                </div>
                                <i data-lucide="chevron-down" class="w-4 h-4 text-slate-500"></i>
                            </button>
                            <div class="subject-content hidden bg-white p-2">
                                ${chaptersHTML}
                            </div>
                        </div>`;
                        
                        syllabusContainer.innerHTML += subjectHTML;
                    });

                    if(typeof lucide !== 'undefined') lucide.createIcons();
                    attachSyllabusEvents();
                };

                const attachSyllabusEvents = () => {
                    // Toggle Subjects
                    document.querySelectorAll('.subject-toggle-btn').forEach(btn => {
                        btn.addEventListener('click', () => {
                            const list = btn.nextElementSibling;
                            const icon = btn.querySelector('.lucide-chevron-down');
                            list.classList.toggle('hidden');
                            icon.style.transform = list.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
                        });
                    });

                    // Toggle Chapters
                    document.querySelectorAll('.module-toggle-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            const list = btn.nextElementSibling;
                            const icon = btn.querySelector('.lucide-chevron-down');
                            list.classList.toggle('hidden');
                            icon.style.transform = list.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
                        });
                    });

                    // Play Videos
                    document.querySelectorAll('.video-link').forEach(link => {
                        link.addEventListener('click', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            const vidId = link.getAttribute('data-video-id');
                            const vidTitle = link.getAttribute('data-title');
                            
                            document.querySelectorAll('.video-link').forEach(l => {
                               l.classList.remove('bg-brand-50', 'text-brand-700'); 
                               l.classList.add('text-slate-600');
                               const icon = l.querySelector('svg');
                               if(icon && !icon.classList.contains('text-green-600')) {
                                   icon.classList.remove('fill-current');
                               }
                            });
                            link.classList.add('bg-brand-50', 'text-brand-700');
                            link.classList.remove('text-slate-600');
                            
                            const currentIcon = link.querySelector('svg');
                            if(currentIcon && !currentIcon.classList.contains('text-green-600')){
                                currentIcon.classList.add('fill-current');
                            }

                            ratingOverlay.classList.add('hidden');
                            ratingOverlay.classList.add('opacity-0');

                            if(player && vidId) {
                                player.source = { type: 'video', sources: [{ src: vidId, provider: 'youtube' }] };
                                player.play();
                                currentVideoTitleEl.textContent = vidTitle;
                            }
                        });
                    });
                };


                // --- Player Initialization ---
                const initPlayer = () => {
                    try {
                        if (player) player.destroy();
                        
                        const videoWrapper = document.getElementById('video-wrapper');
                        videoWrapper.innerHTML = `
                            <div id="video-player" class="plyr__video-embed">
                                <iframe
                                    src="https://www.youtube.com/embed/bTqVqk7FSmY?origin=https://plyr.io&amp;iv_load_policy=3&amp;modestbranding=1&amp;playsinline=1&amp;showinfo=0&amp;rel=0&amp;enablejsapi=1"
                                    allowfullscreen
                                    allowtransparency
                                    allow="autoplay"
                                ></iframe>
                            </div>
                        `;
                        
                        player = new Plyr('#video-player', {
                            controls: ['play', 'progress', 'current-time', 'mute', 'volume', 'settings', 'fullscreen']
                        });

                        player.on('ended', () => {
                            player.stop(); 
                            showRatingOverlay(); 
                        });

                    } catch(e) { console.error("Player init failed", e); }
                };

                startCourseBtn.addEventListener('click', () => {
                    closeModal();
                    landingPage.classList.add('hidden');
                    coursePlayerPage.classList.remove('hidden');
                    window.scrollTo(0,0);
                    
                    generateSyllabus(); 
                    // Reset progress bar on new course load
                    const progressBar = document.getElementById('course-progress-bar');
                    const progressText = document.getElementById('course-progress-text');
                    if(progressBar) progressBar.style.width = '0%';
                    if(progressText) progressText.textContent = '0% Completed';

                    setTimeout(initPlayer, 100);
                });

                exitPlayerBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    coursePlayerPage.classList.add('hidden');
                    landingPage.classList.remove('hidden');
                    if(player) player.stop();
                });

                // --- Rating Logic ---
                const showRatingOverlay = () => {
                    ratingOverlay.classList.remove('hidden');
                    void ratingOverlay.offsetWidth;
                    ratingOverlay.classList.remove('opacity-0');
                };

                const hideRatingOverlay = () => {
                    ratingOverlay.classList.add('opacity-0');
                    setTimeout(() => {
                        ratingOverlay.classList.add('hidden');
                        currentRating = 0;
                        starBtns.forEach(btn => btn.classList.remove('active'));
                    }, 500);
                };

                const markVideoComplete = () => {
                    const activeLink = document.querySelector('.video-link.bg-brand-50');
                    if (activeLink) {
                        const iconContainer = activeLink.querySelector('svg') || activeLink.querySelector('i');
                        if (iconContainer) {
                            const greenCheck = document.createElement('i');
                            greenCheck.setAttribute('data-lucide', 'check-circle-2');
                            greenCheck.className = "w-3 h-3 text-green-600";
                            iconContainer.replaceWith(greenCheck);
                            lucide.createIcons();
                            
                            // Update progress AFTER marking complete
                            updateCourseProgress();
                        }
                    }
                };

                // --- NEW PROGRESS LOGIC ---
                const updateCourseProgress = () => {
                    const allLinks = document.querySelectorAll('.video-link');
                    const totalVideos = allLinks.length;
                    let completedCount = 0;

                    allLinks.forEach(link => {
                        // Check if it has the green check icon class
                        if (link.querySelector('.text-green-600')) {
                            completedCount++;
                        }
                    });

                    const percentage = totalVideos > 0 ? Math.round((completedCount / totalVideos) * 100) : 0;
                    
                    const progressBar = document.getElementById('course-progress-bar');
                    const progressText = document.getElementById('course-progress-text');
                    
                    if (progressBar) progressBar.style.width = `${percentage}%`;
                    if (progressText) progressText.textContent = `${percentage}% Completed`;
                };

                starBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const val = parseInt(btn.getAttribute('data-value'));
                        currentRating = val;
                        starBtns.forEach(b => {
                            const bVal = parseInt(b.getAttribute('data-value'));
                            if (bVal <= val) b.classList.add('active');
                            else b.classList.remove('active');
                        });
                    });
                });

                submitRatingBtn.addEventListener('click', () => {
                    if (currentRating > 0) {
                        hideRatingOverlay();
                        markVideoComplete();
                    }
                });

                skipRatingBtn.addEventListener('click', () => {
                    hideRatingOverlay();
                    markVideoComplete();
                });

            } catch (err) {
                console.error("Init error:", err);
            }
        });
    </script>
</body>
</html>
